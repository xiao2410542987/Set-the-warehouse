<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="com.storage.mapper.WarehousesMapper">
<resultMap id="resW" type="com.storage.pojo.Warehouses">
    <id column="id" property="id"></id>

    <result column="name" property="name"></result>
    <result column="waresize" property="waresize"></result>

    <result column="unusesize" property="unusesize"></result>
    <result column="warehousetypeid" property="warehousetypeid"></result>
    <result column="companyid" property="companyid"></result>
    <result column="workerid" property="workerid"></result>
    <result column="state" property="state"></result>
    <result column="createtime" property="createtime"></result>
    <association column="metering" property="meteringid" select="com.storage.mapper.MeteringMapper.selectMetering"></association>
</resultMap>
    <select id="selectWarehouses" resultMap="resW">
        select * from warehouses where id=#{id}
    </select>

    <select id="QueryWarehouse" resultMap="QueryMWCW">
        select id,name,waresize,meteringid,unusesize,warehousetypeid,companyid,workerid,createtime from warehouses where state = 0
    </select>

    <resultMap id="QueryMWCW" type="com.storage.pojo.Warehouses">
        <id column="id" property="id"></id>
        <result column="name" property="name"></result>
        <result column="waresize" property="waresize"></result>
        <result column="meteringid" property="meteringid"></result>
        <result column="unusesize" property="unusesize"></result>
        <result column="warehousetypeid" property="warehousetypeid"></result>
        <result column="companyid" property="companyid"></result>
        <result column="workerid" property="workerid"></result>
        <result column="state" property="state"></result>
        <result column="createtime" property="createtime"></result>
        <association column="meteringid" property="metering" select="com.storage.mapper.MeteringMapper.selectMetering"></association>
        <association column="warehousetypeid" property="warehousetypes" select="com.storage.mapper.WarehousetypesMapper.QueryWT"></association>
        <association column="companyid" property="companys" select="com.storage.mapper.CompanysMapper.auditcps"></association>
        <association column="workerid" property="workers" select="com.storage.mapper.WorkersMapper.QueryW"></association>
    </resultMap>
</mapper>
